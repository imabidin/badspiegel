<?php

/**
 * V2.2 - WITH DEBUG OUTPUT
 */

// All variables are now available globally from modal.php
// No need to define them here anymore!

// All attribute variables are now available globally from modal.php
// No need to define them here anymore!

// DEBUG: Show attribute checks
// echo "<!-- DEBUG Attributes: faecherposition_seitlich=" . ($has_faecherposition_seitlich ? 'T' : 'F') . " faecherposition_unten=" . ($has_faecherposition_unten ? 'T' : 'F') . " faecherposition_mittig=" . ($has_faecherposition_mittig ? 'T' : 'F') . " -->";
?>

<div class="">
    <?php
    // Show specific images based on category match
    if ($is_badspiegel_mit_leuchte):
        echo "<!-- Badspiegel mit Leuchte -->";
        echo do_shortcode('[img id="5039" size="thumbnail"]'); // Badspiegel mit Leuchte
    elseif ($is_badspiegel_mit_rahmen):
        echo "<!-- Badspiegel mit Rahmen -->";
        echo do_shortcode('[img id="5043" size="thumbnail"]'); // Badspiegel mit Rahmen
    elseif ($is_badspiegel_mit_fernseher):
        echo "<!-- Badspiegel mit Fernseher -->";
        echo do_shortcode('[img id="5111" size="thumbnail"]'); // Badspiegel mit Fernseher
    elseif ($is_badspiegel_mit_abgerundeten_ecken):
        echo "<!-- Badspiegel mit abgerundeten Ecken -->";
        echo do_shortcode('[img id="4946" size="thumbnail"]'); // Badspiegel mit abgerundeten Ecken
    elseif ($is_badspiegel_abgerundet):
        echo "<!-- Badspiegel abgerundet -->";
        echo do_shortcode('[img id="4930" size="thumbnail"]'); // Badspiegel abgerundet
    elseif ($is_badspiegel_mit_rundbogen):
        echo "<!-- Badspiegel mit Rundbogen -->";
        echo do_shortcode('[img id="5049" size="thumbnail"]'); // Badspiegel mit Rundbogen
    elseif ($is_badspiegel_oval):
        echo "<!-- Badspiegel oval -->";
        echo do_shortcode('[img id="5077" size="thumbnail"]'); // Badspiegel oval
    elseif ($is_hollywood_spiegel):
        echo "<!-- Hollywood Spiegel -->";
        echo do_shortcode('[img id="4926" size="thumbnail"]'); // Hollywood Spiegel
    elseif ($is_klappspiegel):
        echo "<!-- Klappspiegel -->";
        echo do_shortcode('[img id="4965" size="thumbnail"]'); // Klappspiegel
    elseif ($is_spiegel_raumteiler):
        echo "<!-- Spiegel Raumteiler -->";
        echo do_shortcode('[img id="5081" size="thumbnail"]'); // Spiegel Raumteiler
    elseif ($is_badspiegel_ohne_beleuchtung):
        echo "<!-- Badspiegel ohne Beleuchtung -->";
        echo do_shortcode('[img id="4926" size="thumbnail"]'); // Badspiegel ohne Beleuchtung
    elseif ($is_badspiegel_mit_beleuchtung):
        echo "<!-- Badspiegel mit Beleuchtung -->";
        echo do_shortcode('[img id="5011" size="thumbnail"]'); // Badspiegel mit Beleuchtung
    elseif ($is_spiegelschraenke_ohne_beleuchtung):
        echo "<!-- Spiegelschränke ohne Beleuchtung -->";
        echo do_shortcode('[img id="5107" size="thumbnail"]'); // Spiegelschränke ohne Beleuchtung
    elseif ($is_spiegelschraenke_mit_beleuchtung):
        echo "<!-- Spiegelschränke mit Beleuchtung -->";
        echo do_shortcode('[img id="5097" size="thumbnail"]'); // Spiegelschränke mit Beleuchtung
    elseif ($is_spiegelschraenke_mit_leuchte):
        echo "<!-- Spiegelschränke mit Leuchte -->";
        echo do_shortcode('[img id="5107" size="thumbnail"]'); // Spiegelschränke mit Leuchte
    elseif ($is_spiegelschraenke_mit_faechern):
        echo "<!-- Spiegelschränke mit Fächern -->";
        // Show different images based on Fächerposition attribute
        if ($has_faecherposition_seitlich):
            echo "<!-- Fächerposition seitlich -->";
            echo do_shortcode('[img id="5101" size="thumbnail"]'); // Spiegelschränke mit Fächern seitlich
        elseif ($has_faecherposition_unten):
            echo "<!-- Fächerposition unten -->";
            echo do_shortcode('[img id="5103" size="thumbnail"]'); // Spiegelschränke mit Fächern unten
        elseif ($has_faecherposition_mittig):
            echo "<!-- Fächerposition mittig -->";
            echo do_shortcode('[img id="5099" size="thumbnail"]'); // Spiegelschränke mit Fächern mittig
        else:
            echo "<!-- Fächerposition ohne -->"; // Spiegelschränke mit Fächern ohne
        endif;
    elseif ($is_unterschraenke):
        echo "<!-- Unterschränke -->";
        echo do_shortcode('[img id="5115" size="thumbnail"]'); // Unterschränke
    elseif ($is_sideboards):
        echo "<!-- Sideboards -->";
        echo do_shortcode('[img id="4918" size="thumbnail"]'); // Sideboards
    elseif ($is_lowboards):
        echo "<!-- Lowboards -->";
        echo do_shortcode('[img id="4912" size="thumbnail"]'); // Lowboards
    else:
        echo "<!-- NO MATCH FOUND -->";
    endif;
    ?>
    <h5 class="mb-3">
        <i class="fa-light fa-sharp fa-ruler me-2"></i>Maßangaben
    </h5>
    <ul class="mb-0">
        <?php if ($show_spiegelkante_info): ?>
            <li>Maße sind von einer Spiegelkante bis zur nächsten Kante</li>
        <?php endif; ?>
        <?php if ($show_lichtflaechen_info): ?>
            <li>Lichtflächen / satinierte Flächen sind inklusive</li>
        <?php endif; ?>
        <?php if ($show_korpuskante_info): ?>
            <li>Maße sind von einer Korpuskante bis zur nächsten Kante</li>
        <?php endif; ?>
        <?php if ($show_offene_faecher_info): ?>
            <li>Etwaige offene Fächer sind in den Maßen inklusive</li>
        <?php endif; ?>
        <li><span class="fw-semibold">Toleranz fertigungsbedingt ± 2–3 mm möglich</span></li>
    </ul>
</div>